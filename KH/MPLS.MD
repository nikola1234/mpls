MPLS-VPN（多协议标记转换）网络主要由CE、PE和P等3部分组成：
CE(Customer Edge Router)用户网络边缘路由器设备，直接与服务提供商网络相连，它“感知”不到VPN的存在；
PE(Provider Edge Router)服务提供商边缘路由器设备，与用户的CE直接相连，负责VPN业务接入，处理VPN-IPv4路由，是MPLS三层VPN的主要实现者；
P(Provider Router)服务提供商核心路由器设备，负责快速转发数据，不与CE直接相连。

路由器连接方式：
CE-PE-P

在整个MPLS-VPN中，P、PE设备需要支持MPLS的基本功能，CE设备不必支持MPLS。


MPLS-VPN的网络采用标签交换，一个标签对应一个用户数据流，非常易于用户间数据的隔离，
利用区分服务体系可以轻易地解决困扰传统IP网络的QoS/CoS问题，MPLS自身提供流量工程的能力，
可以最大限度地优化配置网络资源，自动快速修复网络故障，提供高可用性和高可靠性。


MPLS提供了电信、计算机、有线电视网络三网融合的基础，
除了ATM，是目前唯一可以提供高质量的数据、语音和视频相融合的多业务传送、包交换的网络平台。
因此基于MPLS技术的MPLS-VPN，在灵活性、扩展性、安全性各个方面是当前技术最先进的VPN。

MPLS基本概念  http://blog.csdn.net/robbie1314/article/details/48275279

1. 转发等价类
MPLS作为一种分类转发技术，将具有相同转发处理方式的分组归为一类，称为FEC（Forwarding Equivalence Class，转发等价类）。相同FEC的分组在MPLS网络中将获得完全相同的处理。
FEC的划分方式非常灵活，可以是以源地址、目的地址、源端口、目的端口、协议类型或VPN等为划分依据的任意组合。
例如，在传统的采用最长匹配算法的IP转发中，到同一个目的地址的所有报文就是一个FEC。

2. 标签
标签是一个长度固定，仅具有本地意义的短标识符，用于唯一标识一个分组所属的FEC。一个标签只能代表一个FEC。
标签长度为4个字节，其结构如图1所示。标签共有4个域：
0-*Label*-19-*Exp*-22-*S*-23-*TTL*-31
标签共有4个域：
    Label：标签值字段，长度为20bits，用来标识一个FEC。
    Exp：3bits，保留，协议中没有明确规定，通常用作CoS。
    S：1bit，MPLS支持多重标签。值为1时表示为最底层标签。
    TTL：8bits，和IP分组中的TTL意义相同，可以用来防止环路。